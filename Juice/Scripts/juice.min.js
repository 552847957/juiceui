(function(n){"use strict";var i="_juiceWidgetOptions",t={widgets:{},subscribe:window.amplify.subscribe,publish:window.amplify.publish,onSubmit:function(){var u=n("#"+i),r={};n.each(t.widgets,function(t,i){var f=n("#"+i.id),o=f.data("ui-widget"),s=f.data(o),u=n.extend({},s.options);n.each(u,function(t){n.inArray(t,i.encodedOptions)<0||(u[t]=e(this))}),r[i.id]=u}),u.val(JSON.stringify(r))}},o=function(){if(!n("#_jQueryUICss").length){var r=t.cssUrl,i='<link rel="stylesheet" type="text/css" href="'+r+'" />';n("head").append(i)}},r=function(){if(typeof window.JSON=="undefined")throw new Error("Juice requires JSON support. Please ensure json2.js is referenced for downlevel browsers.");n("#"+i).length||n('<input id="'+i+'" name="'+i+'" type="hidden" />').appendTo(window.theForm),n.each(t.widgets,function(i,r){var f=n("#"+r.id),u=r.widgetName,e={};if(!u||!n.fn[u])return;r.events=n.map(r.events,function(n){return{name:n}}),r.postBacks=n.map(r.postBacks,function(n){return n.causesPostBack=!0,n}),r.events=r.events.concat(r.postBacks),n.each(r.events,function(){var n=this;e[n.name]=function(){var o=[].slice.call(arguments,0),h=r.id+"."+u+"."+n.name,s=f.data(u);o.splice(0,0,h),o.push(s),console.log(o),t.publish.apply(this,o),n.causesPostBack&&window.__doPostBack(r.uniqueId,n.dataChangedEvent?"":n.name)}}),n.each(r.options,function(n){if(this.eval){var i=this.on;try{r.options[n]=eval("("+this.on+")")}catch(t){delete r.options[n],window.console&&console.log&&console.log("Juice UI Error > elementId: "+r.id+'. widget: "'+u+'". Bad data in "'+n+'" option.')}}}),n.extend(r.options,e),f.data(u)||f[u](r.options),f[0].dispose=function(){delete t.widgets[r.id]}})},s=function(){r(),o()},e=function(t){return n("<div/>").text(t).html()},u=n.datepicker._attachDatepicker,f=n.datepicker._optionDatepicker;n.datepicker._attachDatepicker=function(n){var t;u.apply(this,arguments),t=this._getInst(n),t.options={},this._refreshOptions(n)},n.datepicker._refreshOptions=function(t){var i=this._getInst(t);n.each(this._defaults,function(t){i.options[t]=n.datepicker._get(i,t)})},n.datepicker._optionDatepicker=function(n){f.apply(this,arguments),this._refreshOptions(n)},n(r),Sys.WebForms.PageRequestManager.getInstance().add_endRequest(s),window.Juice=t})(jQuery)